.TH mpg123 1 "24 Jul 2006"
.SH NAME
mpg123 \- play audio MPEG 1.0/2.0 file (layers 1, 2 and 3)
.SH SYNOPSIS
.B mpg123
[
.B options
]
.IR file " ... | " URL " ... | "
.B \-
.SH DESCRIPTION
.B mpg123
reads one or more
.IR file\^ s
(or standard input if ``\-'' is specified) or
.IR URL\^ s
and plays them on the audio device (default) or
outputs them to stdout.
.IR file\^ / URL
is assumed to be an MPEG-1/2 audio bit stream.
.SH OPTIONS
.B mpg123
options may be either the traditional POSIX one letter options,
or the GNU style long options.  POSIX style options start with a
single ``\-'', while GNU long options start with ``\-\^\-''.
Option arguments (if needed) follow separated by whitespace (not ``='').
.TP
\fB\-n \fInum\fR, \fB\-\^\-frames \fInum
Decode only
.I num
frames.  By default the complete stream is decoded.
.TP
.BR \-y ", " \-\^\-resync
Do NOT try to resync and continuing decoding if an error occurs in
the input file. Normally, 
.B mpg123
tries top keep the playback alive at all costs, including skipping invalid material and searching new header when something goes wrong.
With this switch you can make it bail out on data errors
(and perhaps spare your ears a bad time). Note that this switch may either disappear
in future or its meaning be revised since it now does the opposite of what it
suggests.





.SH INPUT OPTIONS
.TP
\fB\-k \fInum\fR, \fB\-\^\-skip \fInum
Skip first
.I num
frames.  By default the decoding starts at the first frame.






.SH OUTPUT OPTIONS
.TP
\fB\-a \fIdev\fR, \fB\-\^\-audiodevice \fIdev
Specify the audio device to use.  The default is
system-dependent (usually /dev/audio or /dev/dsp).
Use this option if you have multiple audio devices and
the default is not what you want.
.SH MISC OPTIONS
.TP
.BR \-2 ", " \-\^\-2to1 "; " \-4 ", " \-\^\-4to1
Performs a downsampling of ratio 2:1 (22 kHz) or 4:1 (11 kHz) 
on the output stream, respectively. Saves some CPU cycles, but 
at least the 4:1 ratio sounds ugly.
.TP
.BR \-t ", " \-\^\-test
Test mode.  The audio stream is decoded, but no output occurs.
.TP
.BR \-s ", " \-\^\-stdout
The decoded audio samples are written to standard output,
instead of playing them through the audio device.  This
option must be used if your audio hardware is not supported
by
.BR mpg123 .
The output format per default is raw (headerless) linear PCM audio data,
16 bit, stereo, host byte order (you can force mono or 8bit).
.TP
.BR \-c ", " \-\^\-check
Check for filter range violations (clipping), and report them for each frame
if any occur.
.TP
.BR \-v ", " \-\^\-verbose
Increase the verbosity level.  For example, displays the frame
numbers during decoding.
.TP
.BR \-C ", " \-\^\-control
Enable control keys. By default use 's' to stop, 'p' to
pause, 'f' to jump forward to the next song, 'b' to jump back to the
beginning of the song, ',' to rewind, '.' to fast forward, and 'q' to quit.
.TP
.BR \-q ", " \-\^\-quiet
Quiet.  Suppress diagnostic messages.
.TP
.BR \-0 ", " \-\^\-single0 "; " \-1 ", " \-\^\-single1
Decode only channel 0 (left) or channel 1 (right),
respectively.  These options are available for
stereo MPEG streams only.
.TP
.BR \-m ", " \-\^\-singlemix
Mix both channels.  This option is available for
stereo MPEG layer-3 streams only.  It takes less
CPU time than full stereo decoding.
.TP
\fB\-b \fIsize\fR, \fB\-\^\-buffer \fIsize
Use an audio output buffer of
.I size
Kbytes.  This is useful to bypass short periods of heavy
system activity, which would normally cause the audio output 
to be interrupted.  
You should specify a buffer size of at least 1024 
(i.e. 1 Mb, which equals about 6 seconds of audio data) or more; 
less than about 300 does not make much sense.  The default is 0, 
which turns buffering off.
.TP
\fB\-f \fIfactor\fR, \fB\-\^\-scale \fIfactor
Change scale factor (default: 32768).
.TP
\fB\-r \fIrate\fR, \fB\-\^\-rate \fIrate
Set sample rate (default: automatic).  You may want to
change this if you need a constant bitrate independed of
the mpeg stream rate. mpg123 automagically converts the
rate. You should then combine this with \-\-stereo or \-\-mono.

.TP
\fB\-g \fIgain\fR, \fB\-\^\-gain \fIgain
Set audio hardware output gain (default: don't change).
.TP
.BR "\-o s" ", " \-\^\-speaker
Direct audio output to the speaker.
.TP
.BR "\-o h" ", " \-\^\-headphones
Direct audio output to the headphone connector.
.TP
.BR "\-o l" ", " \-\^\-lineout
Direct audio output to the line-out connector.
.TP
\fB\-d \fIn\fR, \fB\-\^\-doublespeed \fIn
Only play every
.IR n 'th
frame.  This will cause the MPEG stream
to be played
.I n
times faster, which can be used for special
effects.  Can also be combined with the
.B \-\^\-halfspeed
option to play 3 out of 4 frames etc.  Don't expect great
sound quality when using this option.
.TP
\fB\-h \fIn\fR, \fB\-\^\-halfspeed \fIn
Play each frame
.I n
times.  This will cause the MPEG stream
to be played at
.IR 1 / n 'th
speed (n times slower), which can be
used for special effects. Can also be combined with the
.B \-\^\-doublespeed
option to double every third frame or things like that.
Don't expect great sound quality when using this option.
.TP
\fB\-w \fIfile\fR, \fB\-\^\-wav
Write output as WAV file. This will cause the MPEG stream to be decoded 
and saved as file
.I file
, or standard output if
.I -
is used as file name. You can also use
.I --au
and
.I --cdr
for AU and CDR format, respectively.
.TP
\fB\-p \fIURL \fR| \fBnone\fR, \fB\-\^\-proxy \fIURL \fR| \fBnone
The specified
.I proxy
will be used for HTTP requests.  It
should be specified as full URL (``http://host.domain:port/''),
but the ``http://'' prefix, the port number and the trailing
slash are optional (the default port is 80).  Specifying
.B none
means not to use any proxy, and to retrieve files directly
from the respective servers.  See also the
``HTTP SUPPORT'' section.
.TP
\fB\-u \fIauth\fR, \fB\-\^\-auth \fIauth
HTTP authentication to use when recieving files via HTTP.
The format used is user:password.
.TP
\fB\-@ \fIfile\fR, \fB\-\^\-list \fIfile
Read filenames and/or URLs of MPEG audio streams from the specified
.I file
in addition to the ones specified on the command line (if any).
Note that
.I file
can be either an ordinary file, a dash ``\-'' to indicate that
a list of filenames/URLs is to be read from the standard input,
or an URL pointing to a an appropriate list file.  Note: only
one
.B \-@
option can be used (if more than one is specified, only the
last one will be recognized).
.TP
\fB\-\^\-au \fIfile
Does not play the MPEG file but writes it to
.I file
in SUN audio format.  If \- is used as the filename, the AU file is
written to stdout.
.TP
\fB\-\^\-cdr \fIfile
Does not play the MPEG file but writes it to
.I file
as a CDR file.  If \- is used as the filename, the CDR file is written
to stdout.
.TP
.BR \-z ", " \-\^\-shuffle
Shuffle play.  Randomly shuffles the order of files specified on the command
line, or in the list file.
.TP
.BR \-Z ", " \-\-random
Continuous random play.  Keeps picking a random file from the command line
or the play list.  Unlike shuffle play above, random play never ends, and
plays individual songs more than once.
.TP
.BR \-\-stereo
Force stereo output
.TP
.BR \-\-reopen
Forces reopen of the audiodevice after ever song
.TP
.BR \-\-8bit
Forces 8bit output
.TP
\fB\-E \fIfile\fR, \fB\-\^\-equalizer
Enables equalization, taken from
.IR file .
The file needs to contain 32 lines of data, additional comment lines may
be prefixed with
.IR # .
Each data line consists of two floating-point entries, separated by
whitespace.  They specify the multipliers for left and right channel of
a certain frequency band, respectively.  The first line corresponds to the
lowest, the 32nd to the highest frequency band.
.TP
.BR \-T ", " \-\-realtime
Tries to gain realtime priority.  This option usually requires root
privileges to have any effect.
.TP
\fB\-\^\-aggressive
Tries to get higher priority
.TP
\fB\-\^\-title
In an xterm, or rxvt, change the window's title to the name of song currently
playing.
.TP
\fB\-\^\-help, \fB\-\^\-longhelp
Shows usage instructions
.TP
.SH OPERANDS
The following operands are supported:
.TP 8
.IR file (s)
The path name(s) of one or more input files.  They must be
valid MPEG-1/2 audio layer-1, -2 or -3 bit streams.
If a dash ``\-'' is specified, MPEG data will
be read from the standard input.  Furthermore, any name
starting with ``http://'' is recognized as
.I URL
(see next section).
.SH HTTP SUPPORT
In addition to reading MPEG audio streams from ordinary
files and from the standard input,
.B mpg123
supports retrieval of MPEG audio files via the HTTP protocol, 
which is used in the World Wide Web (WWW).  Such files are
specified using a so-called URL, which starts with ``http://''.  When a file with
that prefix is encountered,
.B mpg123
attempts to open an HTTP connection to the server in order to
retrieve that file to decode and play it.
.P
It is often useful to retrieve files through a WWW cache or
so-called proxy.  To accomplish this,
.B mpg123
examines the environment for variables named
.BR MP3_HTTP_PROXY ", " http_proxy " and " HTTP_PROXY ,
in this order.  The value of the first one that is set will
be used as proxy specification.  To override this, you can
use the
.B \-p
command line option (see the ``OPTIONS'' section).  Specifying
.B "\-p none"
will enforce contacting the server directly without using
any proxy, even if one of the above environment variables
is set.
.P
Note that, in order to play MPEG audio files from a WWW
server, it is necessary that the connection to that server
is fast enough.  For example, a 128 kbit/s MPEG file
requires the network connection to be at least 128 kbit/s
(16 kbyte/s) plus protocol overhead.  If you suffer from
short network outages, you should try the
.B \-b
option (buffer) to bypass such outages.  If your network
connection is generally not fast enough to retrieve MPEG
audio files in realtime, you can first download the files
to your local harddisk (e.g. using
.BR wget (1))
and then play them from there.
.P
If authentication is needed to access the file it can be
specified with the 
.BR "\-u user:pass".
.SH INTERRUPT
When in terminal control mode, you can quit via pressing the q key, 
while any time you can abort
.B mpg123
by pressing Ctrl-C. If not in terminal control mode, this will
skip to the next file (if any). If you want to abort playing immediately
in that case, press Ctrl-C twice in short succession (within about one second).
.P
Note that the result of quitting
.B mpg123
pressing Ctrl-C might not be audible
immediately, due to audio data buffering in the audio device.
This delay is system dependent, but it is usually not more
than one or two seconds.
.SH "SEE ALSO"
.BR wget (1),
.BR sox (1),
.SH NOTES
MPEG audio decoding requires a good deal of CPU performance,
especially layer-3.  To decode it in realtime, you should
have at least a Pentium, Alpha, SuperSparc or equivalent
processor.  You can also use the
.B -singlemix
option to decode mono only, which reduces the CPU load
somewhat for layer-3 streams.  See also the
.BR \-2 " and " \-4
options.
.P
If everything else fails, use the
.B \-s
option to decode to standard output, direct it into a file
and then use an appropriate utility to play that file.
You might have to use a tool such as
.BR sox (1)
to convert the output to an audio format suitable for
your audio player.
.P
If your system is generally fast enough to decode in 
realtime, but there are sometimes periods of heavy 
system load (such as cronjobs, users logging in remotely, 
starting of ``big'' programs etc.) causing the 
audio output to be interrupted, then you should use
the
.B \-b
option to use a buffer of reasonable size (at least 1000 Kbytes).
.SH BUGS
.P
MPEG-2.5 could be supported with some work but is highly untested and disabled in the source code (MPEG-2.5 frames are detected and skipped).
.P
Mostly MPEG-1 layer 2 and 3 are tested in real life, other variants may be buggy.
Please report any issues and provide test files to help fixing them.
.P
Free format streams are not supported, but they could be (there is some code).
.P
No CRC error checking is performed.
.P
Some platforms lack audio hardware support; you may be able to use the
.B -s
switch to feed the decoded data to a program that can play it on your audio device.
Notably, this includes Tru64 with MME, but you should be able to install and use OSS there (it perhaps will perform better as MME would anyway).
.SH AUTHORS
.TP
Maintainers:
.br
Thomas Orgis <maintainer@mpg123.org>, <thomas@orgis.org>
.br
Nicholas J. Humfrey
.TP
Main author:
.br
Michael Hipp <hippm@informatik.uni-tuebingen.de>
.TP
Uses code or ideas from various people, see the AUTHORS accompanying the source code.
.SH WEBSITE
http://www.mpg123.org
.br
http://sourceforge.net/projects/mpg123
