We are facing release 1.0 with the fancy output modules and a separate mpg123 library, but we are not there just jet.

The library seems to work, xmms2 plugin works with it, too.
The library may need some tuning for optimal performance, but it is not much slower than old mpg123 - actually, I have to check on a number of systems if it isn't even faster on some.

The outputs need work to fix various targets - p.ex. Solaris does not work at all at the moment.
Then, we need to hack the configure to support the one-static-module build like in Makefile.legacy; for offering the choice to people without sacrificing the easy build configuration.
Currently, many output systems are just broken...

Specific bugs:

ALSA output of default build on linux segfaults on close when _not_ using buffer:

/data/test/mpg123/bin/mpg123 --gapless -b 4096 test.mp3
... Ctrl+C at some time...
[0:24] Decoding of test.mp3 finished.
[audio.c:65] debug: closing output module
[playlist.c:98] debug: going to free() the playlist
[playlist.c:102] debug: free()ing entry 0
[playlist.c:108] debug: free()d the playlist

/data/test/mpg123/bin/mpg123 --gapless test.mp3
... Ctrl+C at some time...
[0:02] Decoding of test.mp3 finished.
[audio.c:65] debug: closing output module
Speicherzugriffsfehler (core dumped)

gdb /data/test/mpg123/bin/mpg123 core
GNU gdb 6.6
Copyright (C) 2006 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "i686-pc-linux-gnu"...
Using host libthread_db library "/lib/libthread_db.so.1".

warning: Can't read pathname for load map: Input/output error.
Reading symbols from /usr/lib/libltdl.so.3...done.
Loaded symbols for /usr/lib/libltdl.so.3
Reading symbols from /lib/libdl.so.2...done.
Loaded symbols for /lib/libdl.so.2
Reading symbols from /data/test/mpg123/lib/libmpg123.so.0...done.
Loaded symbols for /data/test/mpg123/lib/libmpg123.so.0
Reading symbols from /lib/libm.so.6...done.
Loaded symbols for /lib/libm.so.6
Reading symbols from /lib/libc.so.6...done.
Loaded symbols for /lib/libc.so.6
Reading symbols from /lib/ld-linux.so.2...done.
Loaded symbols for /lib/ld-linux.so.2
Reading symbols from /data/test/mpg123/lib/mpg123/output_alsa.so...done.
Loaded symbols for /data/test/mpg123/lib/mpg123/output_alsa.so
Reading symbols from /usr/lib/libasound.so.2...done.
Loaded symbols for /usr/lib/libasound.so.2
Reading symbols from /lib/libpthread.so.0...done.
Loaded symbols for /lib/libpthread.so.0
Reading symbols from /lib/libnss_files.so.2...done.
Loaded symbols for /lib/libnss_files.so.2
Core was generated by `/data/test/mpg123/bin/mpg123 --gapless /mnt/km/data/kram/mixvibes/test.mp3'.
Program terminated with signal 11, Segmentation fault.
#0  0xb7dfe100 in snd_pcm_dmix_state () from /usr/lib/libasound.so.2
(gdb) up
#1  0xb7dc549b in snd_pcm_state () from /usr/lib/libasound.so.2
(gdb) up
#2  0xb7fd6e1b in close_alsa (ao=0x807b0f0) at alsa.c:221
221			if (snd_pcm_state(pcm) == SND_PCM_STATE_RUNNING)
(gdb) print pcm
No symbol "pcm" in current context.

